<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <!-- Font-Awesome -->
  <script src="https://kit.fontawesome.com/97132b68f0.js" crossorigin="anonymous"></script>

  <title>Jal Mitra</title>
</head>
<style>
#ai-assistant { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
.chat-button { background-color: #28a745; color: white; border: none; padding: 10px; border-radius: 50%; cursor: pointer; }
.chat-box { display: none; background-color: white; border: 1px solid #ccc; border-radius: 10px; width: 300px; height: 400px; }
.chat-header { background-color: #28a745; color: white; padding: 10px; text-align: center; border-radius: 10px 10px 0 0; }
.chat-body { padding: 10px; height: 300px; overflow-y: scroll; }
.chat-footer { display: flex; padding: 10px; }
.send-btn { background-color: #28a745; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
.close-btn { background: none; border: none; color: white; cursor: pointer; float: right; }
</style>
<body class="bg-gray-100">
  <nav class="bg-gray-800 p-4">
    <div class="container mx-auto flex justify-between items-center">
      <a class="text-white text-lg font-bold" href="/">Jal Mitra</a>
      <button class="text-white md:hidden" id="navbar-toggle">
        <i class="fas fa-bars"></i>
      </button>
      <div class="hidden md:flex space-x-4" id="navbar-menu">
        <a class="text-gray-300 hover:text-white" href="/">Home</a>
        <a class="text-gray-300 hover:text-white" href="/predict">Geo-spatial</a>
        <a class="text-gray-300 hover:text-white" href="/dashboard">Dashboard</a>
        <a class="text-gray-300 hover:text-white" href="https://00b74307aa06171f9a.gradio.live">GIOS Monitor</a>
        <a class="text-gray-300 hover:text-white" href="water_predict">Inventory Predict</a>
      </div>
    </div>
  </nav>

  <!--CAROUSEL-->
  <div class="container mx-auto my-4">
    <div class="relative w-full" id="carouselExampleCaptions"></div>
      <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
        <div class="duration-700 ease-in-out" data-carousel-item>
          <img src="/static/images/core.jpg" class="block w-full" alt="...">
        </div>
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img src="/static/images/s3.jpg" class="block w-full" alt="...">
        </div>
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img src="/static/images/s4.jpg" class="block w-full" alt="...">
          <div class="absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white">
            <h5 class="text-lg font-bold">Crop Predictor</h5>
            <p class="text-sm"><b>Predict the type of Crop to be grown</b></p>
          </div>
        </div>
      </div>
      <div class="absolute z-30 flex space-x-3 -translate-x-1/2 bottom-5 left-1/2">
        <button type="button" class="w-3 h-3 rounded-full bg-white" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
        <button type="button" class="w-3 h-3 rounded-full bg-white" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
        <button type="button" class="w-3 h-3 rounded-full bg-white" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>
      </div>
      <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none">
          <svg aria-hidden="true" class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          <span class="sr-only">Previous</span>
        </span>
      </button>
      <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
        <span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none">
          <svg aria-hidden="true" class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
          <span class="sr-only">Next</span>
        </span>
      </button>
    </div>
  </div>

  <!-- blog -->
  <div class="container mx-auto my-2">
    <!-- main -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mx-2">
      <div class="my-4">
        <h2 class="text-2xl font-bold">Overview<span class="text-muted"></span></h2>
        <p class="text-lg">We use state-of-the-art machine learning and deep learning technologies to help you guide through the entire Inventory process. Make informed decisions to understand the demographics of your area, understand the factors that affect your Finance and maintain them in a efficient way.</p>
      </div>
      <div class="my-4">
        <img src="/static/images/core.jpg" class="d-block w-full" alt="...">
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mx-2">
      <div class="order-last md:order-first my-3">
        <h2 class="text-2xl font-bold">Parameters<span class="text-muted"></span></h2>
        <p class="text-lg">Based on the requirements like which kind of climate is best suited for growing a particular crop, what will be the amount of water required for that crop to be grown, what will be the estimated rain for that crop, in what quantity must the chemicals of the soil must be in, such that the crop can sustain more life and has no harm from threats, all these parameters are taken into consideration for building the model, which takes up these parameters and predicts the best type of crop/fruit that the farmer must grow.</p>
      </div>
      <div class="order-first md:order-last my-5">
        <img src="/static/images/s3.jpg" class="d-block w-full" alt="...">
      </div>
    </div>

    <!-- AI Assistant Chat -->
    <div id="ai-assistant">
      <button id="chat-btn" class="chat-button">
        <i class="fas fa-comments"></i> Ask Assistant
      </button>
      <div id="chat-box" class="chat-box">
        <div class="chat-header">
          <h6>AI Assistant</h6>
          <button class="close-btn" onclick="closeChat()">X</button>
        </div>
        <div class="chat-body">
          <p>Hi, I'm your assistant. How can I help you?</p>
        </div>
        <div class="chat-footer">
          <input type="text" id="userInput" placeholder="Ask me something..." class="form-control">
          <button class="send-btn" onclick="sendMessage()">Send</button>
        </div>
      </div>
    </div>
  </div>

  <footer class="py-3 text-center text-white bg-gray-800">
    <p>Copyright Â© 2024 | Ilava</p>
    <p>SDM Institute Of Technology, Karnataka</p>
    <p>Project Group: 5 | Semester: 7th | PROJ-CS701</p>
    <p>Developed by,</p>
    <p>shamantak nayak, prajwal achar, hishan m, kausthuba a m , akshaj</p>
  </footer>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  <script>
    const apiKey = 'AIzaSyCJAnctNslBas77t007bRN9MyV975u1ce4'; // Enter your apikey here
    const predefinedResponses = {
      "home": "You can navigate to the Home page by clicking <a href='/'>here</a>.",
      "predict": "You can navigate to the Predict page by clicking <a href='/predict'>here</a>.",
      "dashboard": "You can navigate to the Dashboard page by clicking <a href='/dashboard'>here</a>.",
      "ilava mitra": "You can navigate to the Ilava Mitra page by clicking <a href='/ilava-mitra'>here</a>.",
      "water prediction": "You can navigate to the Water Prediction page by clicking <a href='water_predict'>here</a>.",
      "hi": "Hello! How can I assist you today?",
      "hello": "Hi there! How can I help you?",
      "how are you": "I'm an AI assistant, so I don't have feelings, but I'm here to help you!",
      "thank you": "You're welcome! If you have any more questions, feel free to ask.",
      "thanks": "You're welcome! If you have any more questions, feel free to ask.",
      "contact": "You can contact us at contact@ilava.com.",
      "about": "Ilava is a platform that uses state-of-the-art machine learning and deep learning technologies to assist farmers.",
      "services": "We offer crop prediction, water prediction, and more. Check out our services page for more details.",
      "help": "Sure, I'm here to help! What do you need assistance with?",
      "support": "For support, you can reach out to our support team at support@ilava.com.",
      "which type of crop can be grown in black sand": "Crops like cotton, sorghum, and sunflower are well-suited for black sand soil.",
      "which type of crop can be grown in red sand": "Crops like peanuts, tomatoes, and watermelon are well-suited for red sand soil.",
      "which type of crop can be grown in loamy sand": "Crops like wheat, sugarcane, and pulses are well-suited for loamy sand soil.",
      "which type of crop can be grown in clayey sand": "Crops like rice, broccoli, and cabbage are well-suited for clayey sand soil.",
      "how much fertilizer is needed": "The amount of fertilizer needed depends on the crop and soil conditions. It's best to conduct a soil test to determine the exact requirements.",
      "what do you mean by Ilava Mitra": "Ilava Mitra is a virtual assistant that helps farmers with crop prediction, water prediction, and other agricultural tasks.",
      "what is water prediction": "Water prediction is the process of forecasting water requirements for crops based on various factors such as soil type, weather conditions, and crop type.",
      "what is your name": "My name is Ilava's, your AI assistant.",
      "who created you": "I was created by the team at Ilava to assist farmers with their agricultural needs.",
      "i am sad": "I'm sorry to hear that. Is there anything I can do to help?",
      "i am happy": "That's great to hear! How can I assist you further?",
      "tell me a joke": "Why don't scientists trust atoms? Because they make up everything!",
      "goodbye": "Goodbye! Have a great day!",
      "good night": "Good night! Sleep well!",
      "good morning": "Good morning! How can I assist you today?",
      "good afternoon": "Good afternoon! How can I help you?",
      "good evening": "Good evening! How can I assist you?",
      "what is the weather like": "You can check the current weather conditions on your local weather website or app.",
      "how to grow tomatoes": "Tomatoes need full sun, well-drained soil, and regular watering. Plant them after the last frost date in your area.",
      "how to grow potatoes": "Potatoes grow best in cool weather. Plant seed potatoes in well-drained soil and cover them with mulch.",
      "how to grow carrots": "Carrots need loose, sandy soil and full sun. Sow seeds directly in the garden and keep the soil moist.",
      "how to grow lettuce": "Lettuce grows best in cool weather. Plant seeds in well-drained soil and keep them moist.",
      "how to grow spinach": "Spinach prefers cool weather and well-drained soil. Sow seeds directly in the garden and keep the soil moist.",
      "how to grow cucumbers": "Cucumbers need full sun and well-drained soil. Plant seeds after the last frost date and keep the soil moist.",
      "how to grow peppers": "Peppers need full sun and well-drained soil. Plant seeds indoors and transplant them outside after the last frost date.",
      "how to grow beans": "Beans need full sun and well-drained soil. Sow seeds directly in the garden after the last frost date.",
      "how to grow corn": "Corn needs full sun and well-drained soil. Plant seeds directly in the garden after the last frost date.",
      "how to grow strawberries": "Strawberries need full sun and well-drained soil. Plant them in early spring and keep the soil moist.",
      "what is water required for rice cultivation": "Rice cultivation requires a significant amount of water, typically around 3,000 to 5,000 liters of water per kilogram of rice produced.",
      "what is water required for wheat cultivation": "Wheat cultivation typically requires around 450 to 650 millimeters of water throughout its growing season.",
      "what is water required for maize cultivation": "Maize cultivation generally requires about 500 to 800 millimeters of water during its growing season.",
      "what is water required for sugarcane cultivation": "Sugarcane cultivation requires a significant amount of water, usually around 1,500 to 2,500 millimeters of water annually.",
      "what is water required for cotton cultivation": "Cotton cultivation typically needs around 700 to 1,300 millimeters of water during its growing season.",
      "what is water required for soybean cultivation": "Soybean cultivation generally requires about 450 to 700 millimeters of water throughout its growing season.",
      "what is water required for barley cultivation": "Barley cultivation typically requires around 300 to 500 millimeters of water during its growing season.",
      "what is water required for potato cultivation": "Potato cultivation generally needs about 500 to 700 millimeters of water throughout its growing season.",
      "what is water required for tomato cultivation": "Tomato cultivation typically requires around 600 to 1,200 millimeters of water during its growing season.",
      "what is water required for onion cultivation": "Onion cultivation generally needs about 350 to 550 millimeters of water throughout its growing season.",
      "what is water required for carrot cultivation": "Carrot cultivation typically requires around 400 to 600 millimeters of water during its growing season.",
      "which fertilizers can be used for tomatoes": "For tomatoes, use a balanced fertilizer like 10-10-10 or one with slightly higher phosphorus content like 5-10-5.",
      "which fertilizers can be used for potatoes": "For potatoes, use a fertilizer high in potassium like 5-10-10 or 10-20-20.",
      "which fertilizers can be used for carrots": "For carrots, use a low-nitrogen fertilizer like 0-10-10 or 5-15-15.",
      "which fertilizers can be used for lettuce": "For lettuce, use a balanced fertilizer like 10-10-10 or one with higher nitrogen content like 20-10-10.",
      "which fertilizers can be used for spinach": "For spinach, use a high-nitrogen fertilizer like 16-16-8 or 10-10-10.",
      "which fertilizers can be used for cucumbers": "For cucumbers, use a balanced fertilizer like 10-10-10 or one with higher potassium content like 5-10-10.",
      "which fertilizers can be used for peppers": "For peppers, use a balanced fertilizer like 10-10-10 or one with slightly higher phosphorus content like 5-10-5.",
      "which fertilizers can be used for beans": "For beans, use a low-nitrogen fertilizer like 5-10-10 or 10-20-20.",
      "which fertilizers can be used for corn": "For corn, use a high-nitrogen fertilizer like 16-16-8 or 20-10-10.",
      "which fertilizers can be used for strawberries": "For strawberries, use a balanced fertilizer like 10-10-10 or one with higher potassium content like 5-10-10."
    };
    function fetchMessages(userInput) {
      const chatbox = document.querySelector('.chat-body');

      // Check for predefined responses
      for (const keyword in predefinedResponses) {
        if (userInput.toLowerCase().includes(keyword)) {
          chatbox.innerHTML += `<p>User: ${userInput}</p>`;
          chatbox.innerHTML += `<p style="color: green;">Assistant: ${predefinedResponses[keyword]}</p>`;
          return;
        }
      }

      let messages = [
        {
          "role": "user",
          "content": userInput
        }
      ];

      var settings = {
        url: "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=" + apiKey,
        method: "POST",
        headers: {
          Authorization: "Bearer " + apiKey,
          "Content-Type": "application/json"
        },
        data: JSON.stringify({
          model: "gpt-3.5-turbo",
          messages: messages
        })
      };

      $.ajax(settings).done(function(response) {
        const message = response.choices[0].message;
        chatbox.innerHTML += `<p>User: ${userInput}</p>`;
        chatbox.innerHTML += `<p style="color: green;">Assistant: ${message.content}</p>`;
      }).fail(function() {
        chatbox.innerHTML += `<p>User: ${userInput}</p>`;
        chatbox.innerHTML += `<p style="color: red;">Assistant: Sorry, I couldn't process your request.</p>`;
      });
    }

    document.getElementById('chat-btn').onclick = function() {
      document.getElementById('chat-box').style.display = 'block';
    }

    function closeChat() {
      document.getElementById('chat-box').style.display = 'none';
    }

    function sendMessage() {
      let userInput = document.getElementById('userInput').value;
      if (userInput.trim()) {
        document.querySelector('.chat-body').innerHTML += `<p>User: ${userInput}</p>`;
        document.getElementById('userInput').value = '';
        document.querySelector('.chat-body').innerHTML += `<p style="color: blue;">Assistant: Processing your query...</p>`;
        
        // Call the API with the user input
        fetchMessages(userInput);
      }
    }
  </script>
  </script>
</body>
</html>
